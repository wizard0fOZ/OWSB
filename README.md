# OWSB System - Overview & Developer Guide

## üéØ Project Purpose
This system simulates a role-based organizational workflow where different departments (Sales, Purchase, Inventory, Finance, Admin) interact through text-based data storage. Each user has access to only their required functionalities.

---

## üìÅ Project Structure

src/=
main/           ‚Üí Entry point and main runner
shared/         ‚Üí Shared modules: FileIO, Logger, Session, Validators, etc.
models/         ‚Üí Data classes: User, Item, Supplier, etc.
sales/          ‚Üí Sales Manager logic (PR, sales entries, items)
purchase/       ‚Üí Purchase Manager logic (PO generation)
inventory/      ‚Üí Inventory Manager logic (stock updates)
finance/        ‚Üí Finance Manager logic (PO approval, payments)
admin/          ‚Üí Admin user registration, full access

data/
‚îî‚îÄ‚îÄ .txt files for all persistent storage

---

## üß± Shared Modules (in `shared/`)
| File              | Description                                      |
|-------------------|--------------------------------------------------|
| `Config.java`     | Centralized file paths for all `.txt` files      |
| `FileIO.java`     | Handles reading/writing model objects to files   |
| `IDGenerator.java`| Generates IDs like PR001, U004, etc.             |
| `Logger.java`     | Writes activity logs into `data/system.log`      |
| `Session.java`    | Stores the currently logged-in user              |
| `Utils.java`      | Timestamps, numeric checks                       |
| `Validator.java`  | Validates input: ID format, empty, number, etc.  |
| `Role.java`       | Enum for role: ADMIN, SM, PM, IM, FM             |

---

## üì¶ Entity Models (in `models/`)
Each `.txt` file is represented by one model class.

| Model Class            | Represents                   |
|------------------------|------------------------------|
| `User.java`            | A registered system user     |
| `Item.java`            | Inventory item               |
| `Supplier.java`        | Item supplier                |
| `Sale.java`            | Daily sales entry            |
| `PurchaseRequisition.java` | PR request per item     |
| `PurchaseOrder.java`   | PO record per item           |
| `InventoryUpdate.java` | Stock update after PO        |
| `FinanceLog.java`      | Payment log by FM            |

---

## üìÇ Data Files (in `/data`)
| Filename                | Stores                           |
|-------------------------|----------------------------------|
| `users.txt`             | All users                        |
| `items.txt`             | Inventory items                  |
| `suppliers.txt`         | Supplier info                    |
| `sales.txt`             | Sales entries                    |
| `pr.txt`                | Purchase requisitions            |
| `po.txt`                | Purchase orders                  |
| `inventory_updates.txt` | Stock updates from IM            |
| `finance_logs.txt`      | Payments by FM                   |
| `system.log`            | Logs generated by Logger         |

---

## üë• Group Role Assignment

| Member Name | Role             | Responsibilities                                  |
|-------------|------------------|---------------------------------------------------|
| Ozzie       | Finance Manager  | Approve POs, log payments + build shared modules |
| Member 2    | Sales Manager    | Item/supplier CRUD, sales entries, create PRs     |
| Member 3    | Purchase Manager | Generate POs from PRs                             |
| Member 4    | Inventory Manager| Confirm PO stock, update item quantity            |
| Darren      | Admin            | Register users, assign roles, full access         |

---

## ‚úÖ Development Flow

1. Build and test `shared/` and `models/` first (‚úî done)
2. Create login system using `FileIO.loadUsers()` + `Session`
3. Redirect to dashboard based on `Session.getRole()`
4. Each member works within their assigned package (`sales/`, `finance/`, etc.)
5. Use only shared modules for validation, IDs, saving/loading.

---

1. users.txt
Stores all registered users with roles.

Field	Description
userId	Unique ID (e.g., U001)
username	Login name
password	Plaintext or hashed password
role	Role: ADMIN, SM, PM, IM, FM
status	Active/Inactive (in case of disabled users)
createdAt	Timestamp of registration

Example:
U001|johnsm|pass123|SM|Active|2025-05-10 14:20
U002|alicepm|securepass|PM|Active|2025-05-10 14:21
U003|admin01|adminpass|ADMIN|Active|2025-05-10 14:22
U004|intman|invpass|IM|Active|2025-05-10 14:23
U005|finman|finpass|FM|Active|2025-05-10 14:24

2. items.txt
Stores stockable items.

Field	Description
itemId	Unique ID (e.g., I001)
name	Item name
supplierId	ID of main supplier
stockQty	Current stock level
status	Active/Inactive
createdAt	Timestamp when added

Example:
I001|Milo 1kg|S001|100|Active|2025-05-11 11:00
I002|Gardenia Bread|S002|60|Active|2025-05-11 11:01
I003|Dutch Lady Milk|S001|80|Active|2025-05-11 11:02
I004|Ayamas Nuggets|S003|40|Active|2025-05-11 11:03

3. suppliers.txt
Stores supplier details.

Field	Description
supplierId	Unique ID (e.g., S001)
name	Supplier name
itemIds	Items supplied (comma separated)
status	Active/Inactive
createdAt	Timestamp

Example:
S001|Nestle Distributors|I001,I003|Active|2025-05-11 11:20
S002|Gardenia Supplier|I002|Active|2025-05-11 11:21
S003|Ayamas Delivery|I004|Active|2025-05-11 11:22

4. sales.txt
Logs daily item-wise sales by Sales Managers.

Field	Description
saleId	Unique ID (e.g., S001)
itemId	Sold item
quantitySold	Quantity sold
date	Sale date (YYYY-MM-DD)
enteredBy	User ID (SM)
createdAt	Timestamp

Example:
S001|I001|20|2025-05-15|U001|2025-05-15 10:00
S002|I002|12|2025-05-15|U001|2025-05-15 10:05
S003|I003|18|2025-05-15|U001|2025-05-15 10:10

5. pr.txt (Purchase Requisitions)
Tracks PRs raised by SMs.

Field	Description
prId	Unique PR ID
itemId	Requested item
quantity	Requested quantity
requiredDate	Date needed
supplierId	Default supplier
raisedBy	User ID (SM)
createdAt	Timestamp
status	Active/Cancelled/Fulfilled

Example:
PR006|I001|50|2025-05-25|S001|U001|2025-05-15 10:30|Active
PR006|I002|30|2025-05-25|S002|U001|2025-05-15 10:30|Active
PR006|I004|20|2025-05-25|S003|U001|2025-05-15 10:30|Active

6. po.txt (Purchase Orders)
POs created by PMs from PRs.

Field	Description
poId	Unique PO ID
prId	Linked PR ID
itemId	Ordered item
quantity	Final order quantity
supplierId	Supplier chosen
raisedBy	PM user ID
approvedBy	FM user ID (if approved)
status	Pending/Approved/Rejected
createdAt	Timestamp

Example:
PO011|PR006|I001|50|S001|U002|U005|Approved|2025-05-16 09:10
PO011|PR006|I002|30|S002|U002|U005|Approved|2025-05-16 09:10
PO011|PR006|I004|20|S003|U002|U005|Approved|2025-05-16 09:10

7. inventory_updates.txt
Inventory Manager logs stock received from PO.

Field	Description
updateId	Unique ID
poId	Related PO
itemId	Received item
quantityReceived	How much was added
updatedBy	IM user ID
createdAt	Timestamp

Example:
INV001|PO011|I001|50|U004|2025-05-17 09:12
INV002|PO011|I002|30|U004|2025-05-17 09:15
INV003|PO011|I004|20|U004|2025-05-17 09:20

8. finance_logs.txt
Payment processing logs by FM.

Field	Description
logId	Unique ID
poId	PO that was paid
supplierId	Paid supplier
amountPaid	Total RM paid
paidBy	FM user ID
date	Date of payment
note	Optional note

Example:
F001|PO011|S001|1250.00|U005|2025-05-18|Bank transfer
F002|PO011|S002|900.00|U005|2025-05-18|Bank transfer
F003|PO011|S003|750.00|U005|2025-05-18|Bank transfer


| Filename                | Used By       | Purpose                         |
| ----------------------- | ------------- | ------------------------------- |
| `users.txt`             | All roles     | Login + registration            |
| `items.txt`             | SM, IM        | Manage items + stock levels     |
| `suppliers.txt`         | SM, PM        | Supplier management             |
| `sales.txt`             | SM            | Daily sales tracking            |
| `pr.txt`                | SM, PM, Admin | PR creation + listing           |
| `po.txt`                | PM, FM, IM    | PO generation, approval, status |
| `inventory_updates.txt` | IM            | Stock update after PO           |
| `finance_logs.txt`      | FM            | Payment processing log          |

---

This README is meant to help the whole team align. Stick to shared logic, shared models, and avoid rewriting any core utilities.
